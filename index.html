<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rosani Machado - Cons√≥rcios de Autom√≥veis e Casas</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js"></script>
  <meta name="description" content="Cons√≥rcios de autom√≥veis e im√≥veis - Rosani Machado. Simule parcelas e entre em contato para uma proposta personalizada." />
  <style>
    :root{
      --blue:#0f62fe;
      --blue-dark:#0446b3;
      --muted:#6b7280;
      --card:#ffffff;
      --bg:#f6f8fb;
      --radius:14px;
      font-family: Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#111;line-height:1.45}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{background:linear-gradient(90deg,var(--blue),var(--blue-dark));color:#fff;padding:18px;border-radius:10px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:8px;background:rgba(255,255,255,0.12);display:flex;align-items:center;justify-content:center;font-weight:700}
    nav{margin-left:auto}
    nav a{color:rgba(255,255,255,0.95);text-decoration:none;margin-left:16px;font-weight:600}
    .hero{display:flex;gap:24px;align-items:center;padding:36px 0}
    .hero-left{flex:1}
    .hero-right{flex:1;display:flex;justify-content:center}
    .card{background:var(--card);padding:20px;border-radius:var(--radius);box-shadow:0 6px 20px rgba(16,24,40,0.06)}
    h1{margin:0 0 8px;font-size:28px}
    p.lead{margin:0 0 16px;color:var(--muted)}
    .btn{background:var(--blue);color:#fff;border:none;padding:10px 16px;border-radius:10px;cursor:pointer;font-weight:700}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}.hero{flex-direction:column-reverse}}
    .plan{padding:18px;border-radius:12px;border:1px solid rgba(15,98,254,0.06)}
    .plan h3{margin:0 0 6px;color:var(--blue-dark)}
    .muted{color:var(--muted);font-size:14px}
    .price{font-weight:800;margin-top:8px}
    .simulator-row{display:flex;gap:8px;margin-top:8px}
    input,select{padding:10px;border-radius:8px;border:1px solid #e6e9ef;width:100%;font-size:15px}
    form .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    form .row .full{grid-column:1/-1}
    footer{margin-top:28px;padding:18px;text-align:center;color:var(--muted)}
    .toast{position:fixed;right:20px;bottom:20px;background:#0f5132;color:#e6fff1;padding:12px 16px;border-radius:10px;box-shadow:0 8px 22px rgba(2,6,23,0.12);display:none}
    .small{font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <header class="card" aria-label="Cabe√ßalho">
      <div style="display:flex;align-items:center;gap:16px">
        <div class="brand">
          <div class="logo">RM</div>
          <div>
            <div style="font-weight:800">Rosani Machado</div>
            <div style="font-size:13px;color:rgba(255,255,255,0.9)">Cons√≥rcios - Autom√≥veis & Im√≥veis</div>
          </div>
        </div>
        <nav>
          <a href="#planos">Planos</a>
          <a href="#simulador">Simulador</a>
          <a href="#contato">Contato</a>
        </nav>
      </div>
    </header>

    <section class="hero">
      <div class="hero-left">
        <h1>Cons√≥rcios para autom√≥veis e casas</h1>
        <p class="lead">Planos seguros e personalizados. Simule parcelas em segundos e fale diretamente com a Rosani para uma proposta sem compromisso.</p>
        <div style="display:flex;gap:10px">
          <a class="btn" href="#simulador">Simular agora</a>
          <a href="#contato" style="align-self:center;padding:10px 14px;border-radius:10px;background:#fff;color:var(--blue);text-decoration:none;font-weight:700">Fale com a Rosani</a>
        </div>
      </div>
      <div class="hero-right">
        <div class="card" style="max-width:420px;width:100%">
          <strong>Atendimento r√°pido</strong>
          <p class="small">Telefone/WhatsApp: <strong>(43) 9 9872-1117</strong></p>
          <p class="small">E-mail: <strong>karinemarcal13@gmail.com</strong></p>
          <hr style="margin:10px 0;border:none;border-top:1px solid #eef2f7" />
          <p class="muted">Quer um plano para carro ou casa? Selecione no simulador e veja uma estimativa inicial.</p>
        </div>
      </div>
    </section>

    <!-- Planos -->
    <section id="planos" style="margin-top:16px">
      <div style="display:flex;justify-content:space-between;align-items:end;margin-bottom:12px">
        <h2 style="margin:0">Nossos Planos</h2>
        <p class="small">Sem juros ‚Äî administra√ß√£o inclusa conforme contrato.</p>
      </div>

      <div class="grid">
        <div class="plan card">
          <h3>Cons√≥rcio de Autom√≥veis</h3>
          <p class="muted">Plano focado em carros novos e seminovos. Prazos flex√≠veis e grupos formados continuamente.</p>
          <div class="price">Carta m√©dia sugerida: R$ 50.000</div>
          <div class="muted" style="margin-top:6px">Prazos: 60 a 120 presta√ß√µes</div>
          <div style="margin-top:12px">
            <button class="btn" onclick="fillSimulator('auto',50000,60,120)">Simular este plano</button>
          </div>
        </div>

        <div class="plan card">
          <h3>Cons√≥rcio de Casas</h3>
          <p class="muted">Para aquisi√ß√£o de im√≥vel residencial ‚Äî prazos longos para facilitar o planejamento financeiro.</p>
          <div class="price">Carta m√©dia sugerida: R$ 300.000</div>
          <div class="muted" style="margin-top:6px">Prazos: 120 a 180 presta√ß√µes</div>
          <div style="margin-top:12px">
            <button class="btn" onclick="fillSimulator('casa',300000,120,180)">Simular este plano</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Simulador -->
    <section id="simulador" style="margin-top:28px">
      <div class="card">
        <h2 style="margin:0 0 6px">Simulador de Parcelas</h2>
        <p class="muted" style="margin:0 0 12px">Estimativa r√°pida: n√£o substitui proposta contratual. Exemplo sem considerar lances ou fundo de reserva.</p>

        <div style="display:grid;grid-template-columns:1fr 320px;gap:18px">
          <div>
            <label class="small">Plano</label>
            <select id="planType" aria-label="Tipo de plano">
              <option value="auto" data-price="50000" data-min="60" data-max="120">Autom√≥veis ‚Äî R$ 50.000 (60-120x)</option>
              <option value="casa" data-price="300000" data-min="120" data-max="180">Casas ‚Äî R$ 300.000 (120-180x)</option>
            </select>

            <div style="display:flex;gap:8px;margin-top:8px">
              <div style="flex:1">
                <label class="small">Valor da carta (R$)</label>
                <input id="valorCarta" type="number" min="0" step="100" value="50000" />
              </div>
              <div style="width:140px">
                <label class="small">Prazos (meses)</label>
                <input id="prazo" type="number" min="1" step="1" value="60" />
              </div>
            </div>

            <div style="display:flex;gap:8px;margin-top:8px">
              <div style="flex:1">
                <label class="small">Entrada / Lance (opcional)</label>
                <input id="entrada" type="number" min="0" step="100" value="0" />
              </div>
              <div style="width:140px">
                <label class="small">Taxa admin (%)</label>
                <input id="taxa" type="number" min="0" step="0.1" value="12" />
              </div>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn" onclick="calcular()">Calcular</button>
              <button onclick="resetSim()" style="padding:10px 14px;border-radius:10px;border:1px solid #e6e9ef;background:#fff;cursor:pointer">Limpar</button>
            </div>
          </div>

          <div>
            <div class="card" style="background:#fff;padding:18px">
              <h3 style="margin:0 0 8px">Resultado</h3>
              <div id="resultado" style="font-size:16px;color:#111">
                <p class="muted">Preencha os dados √† esquerda e clique em <strong>Calcular</strong>.</p>
              </div>
              <hr style="margin:12px 0;border:none;border-top:1px solid #eef2f7" />
              <div class="small muted">Observa√ß√µes:</div>
              <ul class="small muted">
                <li>Simula√ß√£o b√°sica: parcela = (valor - entrada + taxaAdm) / prazo.</li>
                <li>Taxa de administra√ß√£o aplicada sobre o valor total como porcentagem.</li>
                <li>Para proposta real, entre em contato para analisar propostas com lances e fundo de reserva.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contato -->
    <section id="contato" style="margin-top:28px">
      <div class="card">
        <h2 style="margin:0 0 8px">Fale com a Rosani</h2>
        <p class="muted" style="margin:0 0 12px">Preencha o formul√°rio que entraremos em contato com uma simula√ß√£o personalizada.</p>

        <form id="contactForm" onsubmit="submitForm(event)" novalidate>
          <div class="row">
            <input name="nome" id="nome" placeholder="Seu nome" required />
            <input name="telefone" id="telefone" placeholder="Telefone ou WhatsApp" required />
            <input type="email" name="email" id="email" placeholder="Seu e-mail" class="full" required />
            <select name="interesse" id="interesse" required>
              <option value="">Quero um cons√≥rcio para...</option>
              <option value="auto">Autom√≥vel</option>
              <option value="casa">Casa / Im√≥vel</option>
            </select>
            <textarea name="mensagem" id="mensagem" placeholder="Mensagem (opcional)" class="full" style="min-height:90px;padding:10px;border-radius:8px;border:1px solid #e6e9ef"></textarea>
            <div style="grid-column:1/-1;display:flex;gap:10px;align-items:center">
              <button class="btn" type="submit">Enviar mensagem</button>
              <div class="small muted">‚úì Seus dados ser√£o enviados para Rosani via WhatsApp e salvos em seu navegador.</div>
            </div>
          </div>
        </form>
      </div>
    </section>

    <!-- Painel Admin (apenas para Rosani) -->
    <section id="admin" style="margin-top:28px;display:none">
      <div class="card">
        <h2 style="margin:0 0 12px">üìä Painel de Contatos (Admin)</h2>
        <div style="display:flex;gap:8px;margin-bottom:12px">
          <button class="btn" onclick="abrirPainelAdmin()" style="padding:8px 12px;font-size:0.9rem">Ver Contatos</button>
          <button onclick="exportarCSV()" style="padding:8px 12px;font-size:0.9rem;border-radius:10px;border:1px solid #e6e9ef;background:#fff;cursor:pointer">Exportar CSV</button>
          <button onclick="limparTodosOsDados()" style="padding:8px 12px;font-size:0.9rem;border-radius:10px;border:1px solid #e6e9ef;background:#fff;cursor:pointer;color:#dc2626">Limpar Dados</button>
        </div>
        <div id="adminLista" style="max-height:400px;overflow-y:auto"></div>
      </div>
    </section>

    <footer>
      <div class="small muted">¬© <span id="ano"></span> Rosani Machado - Cons√≥rcios. Site de demonstra√ß√£o.</div>
    </footer>

    <div id="toast" class="toast">Mensagem enviada ‚Äî em breve responderemos!</div>
  </div>

  <script>
    // preencher ano
    document.getElementById('ano').textContent = new Date().getFullYear();

    // preencher selects iniciais (sincroniza valores)
    const planType = document.getElementById('planType');
    const valorCarta = document.getElementById('valorCarta');
    const prazo = document.getElementById('prazo');

    planType.addEventListener('change', function(){
      const opt = this.selectedOptions[0];
      valorCarta.value = Number(opt.dataset.price || valorCarta.value);
      prazo.value = Number(opt.dataset.min || prazo.value);
      prazo.min = opt.dataset.min;
      prazo.max = opt.dataset.max;
    });

    function fillSimulator(type, price, min, max){
      // seleciona op√ß√£o correspondente (se existir)
      for (let i=0;i<planType.options.length;i++){
        if (planType.options[i].value === type){
          planType.selectedIndex = i;
          planType.dispatchEvent(new Event('change'));
          break;
        }
      }
      valorCarta.value = price;
      prazo.value = min;
      window.scrollTo({top:document.getElementById('simulador').offsetTop - 20, behavior:'smooth'});
    }

    function calcular(){
      const V = Number(document.getElementById('valorCarta').value) || 0;
      const E = Number(document.getElementById('entrada').value) || 0;
      let N = Number(document.getElementById('prazo').value) || 1;
      const taxaPerc = Number(document.getElementById('taxa').value) || 0;

      // validar prazo com limites do plano
      const sel = planType.selectedOptions[0];
      const min = Number(sel.dataset.min) || 1;
      const max = Number(sel.dataset.max) || 1000;
      if (N < min) N = min;
      if (N > max) N = max;
      prazo.value = N;

      // taxa administrativa aplicada sobre o valor total
      const taxaAdm = (taxaPerc/100) * V;

      // valor financiado (ou saldo devedor do cons√≥rcio para parcelar)
      const saldo = Math.max(0, V - E) + taxaAdm;

      const parcela = saldo / N;
      const parcelaRound = parcela.toFixed(2).replace('.',',');

      const resultado = document.getElementById('resultado');
      resultado.innerHTML = `
        <div><strong>Plano:</strong> ${sel.textContent}</div>
        <div style="margin-top:6px"><strong>Valor da carta:</strong> R$ ${V.toLocaleString('pt-BR')}</div>
        <div><strong>Entrada / Lance:</strong> R$ ${E.toLocaleString('pt-BR')}</div>
        <div><strong>Taxa administrativa (aplicada como % do valor):</strong> ${taxaPerc}% ‚Äî R$ ${taxaAdm.toLocaleString('pt-BR')}</div>
        <div style="margin-top:8px;font-size:18px"><strong>Parcelas:</strong> ${N}x de R$ ${parcelaRound}</div>
        <div class="muted" style="margin-top:8px">Total aproximado (inclui taxa administrativa): R$ ${(saldo).toLocaleString('pt-BR')}</div>
      `;
    }

    function resetSim(){
      document.getElementById('valorCarta').value = planType.selectedOptions[0].dataset.price || 0;
      document.getElementById('entrada').value = 0;
      document.getElementById('prazo').value = planType.selectedOptions[0].dataset.min || 1;
      document.getElementById('taxa').value = 12;
      document.getElementById('resultado').innerHTML = '<p class="muted">Preencha os dados √† esquerda e clique em <strong>Calcular</strong>.</p>';
    }

    // Formul√°rio - salva no localStorage e mostra toast
    function submitForm(e){
      e.preventDefault();
      const nome = document.getElementById('nome').value.trim();
      const telefone = document.getElementById('telefone').value.trim();
      const email = document.getElementById('email').value.trim();
      const interesse = document.getElementById('interesse').value;
      const mensagem = document.getElementById('mensagem').value.trim();

      if (!nome || !telefone || !email || !interesse){
        alert('Preencha nome, telefone, e-mail e selecione o tipo de cons√≥rcio.');
        return;
      }

      const lead = {
        id: 'lead_' + Date.now(),
        nome, telefone, email, interesse, mensagem, createdAt: new Date().toISOString()
      };

      // salvar array de leads no localStorage
      const key = 'rm_consorcios_leads_v1';
      const exists = JSON.parse(localStorage.getItem(key) || '[]');
      exists.push(lead);
      localStorage.setItem(key, JSON.stringify(exists));

      // mostrar toast
      const toast = document.getElementById('toast');
      toast.textContent = 'Mensagem enviada ‚Äî em breve a Rosani entrar√° em contato!';
      toast.style.display = 'block';
      setTimeout(()=> toast.style.display = 'none', 4200);

      // limpar formul√°rio
      document.getElementById('contactForm').reset();
    }

    // inicializar valores
    (function init(){
      // set defaults from current option
      const opt = planType.selectedOptions[0];
      valorCarta.value = opt.dataset.price || valorCarta.value;
      prazo.min = opt.dataset.min || 1;
      prazo.max = opt.dataset.max || 9999;
    })();
  </script>
</body>
</html>
